(function(t){function e(e){for(var a,l,r=e[0],s=e[1],c=e[2],d=0,h=[];d<r.length;d++)l=r[d],Object.prototype.hasOwnProperty.call(i,l)&&i[l]&&h.push(i[l][0]),i[l]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a]);u&&u(e);while(h.length)h.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,r=1;r<n.length;r++){var s=n[r];0!==i[s]&&(a=!1)}a&&(o.splice(e--,1),t=l(l.s=n[0]))}return t}var a={},i={app:0},o=[];function l(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.m=t,l.c=a,l.d=function(t,e,n){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)l.d(n,a,function(e){return t[e]}.bind(null,a));return n},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],s=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var u=s;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},1:function(t,e){},"29c6":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("d9a3"),n("c9db"),n("de3e"),n("618d");var a=n("0261"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("v-home")],1)},o=[],l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"homePage"}},[n("el-container",[n("el-header",[n("v-header")],1),n("el-main",[n("router-view")],1)],1)],1)},r=[],s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header"},[n("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":t.activeIndex,mode:"horizontal"},on:{select:t.handleSelect}},[n("el-submenu",{attrs:{index:"1"}},[n("template",{slot:"title"},[t._v("PRE工具")]),n("el-menu-item",{attrs:{index:"1-1"}},[t._v("打点工具")]),n("el-menu-item",{attrs:{index:"1-2"}},[n("router-link",{attrs:{to:"/singlePointWrite/400012"}},[t._v("测试界面")])],1)],2),n("el-submenu",{attrs:{index:"2"}},[n("template",{slot:"title"},[t._v("装车工具")]),n("el-submenu",{attrs:{index:"2-1"}},[n("template",{slot:"title"},[t._v("一号站")]),n("el-menu-item",{attrs:{index:"2-1-1"}},[n("router-link",{attrs:{to:"/screen/400012"}},[t._v("一号站光幕")])],1),n("el-menu-item",{attrs:{index:"2-1-2"}},[n("router-link",{attrs:{to:"/plcData?loadLine=400012"}},[t._v("一号站实时数据")])],1),n("el-menu-item",{attrs:{index:"2-1-3"}},[t._v("一号站火车动画")]),n("el-menu-item",{attrs:{index:"2-1-4"}},[n("router-link",{attrs:{to:"/realTimeRadarData/400012"}},[t._v("一号站实时雷达数据")])],1),n("el-menu-item",{attrs:{index:"2-1-5"}},[t._v("装车过程数据")])],2),n("el-submenu",{attrs:{index:"2-2"}},[n("template",{slot:"title"},[t._v("二号站")]),n("el-menu-item",{attrs:{index:"2-2-1"}},[n("router-link",{attrs:{to:"/screen/400013"}},[t._v("二号站光幕")])],1),n("el-menu-item",{attrs:{index:"2-2-2"}},[n("router-link",{attrs:{to:"/plcData?loadLine=400013"}},[t._v("二号站实时数据")])],1),n("el-menu-item",{attrs:{index:"2-2-3"}},[t._v("二号站火车动画")]),n("el-menu-item",{attrs:{index:"2-2-4"}},[n("router-link",{attrs:{to:"/realTimeRadarData/400013"}},[t._v("二号站实时雷达数据")])],1),n("el-menu-item",{attrs:{index:"2-2-5"}},[t._v("装车过程数据")])],2),n("el-menu-item",{attrs:{index:"2-3"}},[n("router-link",{attrs:{to:"/taskNowLoad"}},[t._v("正在装车的任务")])],1),n("el-menu-item",{attrs:{index:"2-4"}},[n("router-link",{attrs:{to:"/taskSyn"}},[t._v("新旧数据库同步")])],1)],2),n("el-menu-item",{attrs:{index:"3"}},[t._v("导数工具")]),n("el-submenu",{attrs:{index:"4"}},[n("template",{slot:"title"},[t._v("配煤工具")]),n("el-menu-item",{attrs:{index:"4-1"}},[n("router-link",{attrs:{to:"/coalTool"}},[t._v("给煤机工具")])],1)],2)],1)],1)},c=[],u={data:function(){return{activeIndex:"2-1"}},methods:{handleSelect:function(t,e){console.log(t,e)}}},d=u,h=n("e90a"),m=Object(h["a"])(d,s,c,!1,null,"32a3c3d7",null),p=m.exports,f={name:"Home",props:{msg:String},components:{"v-header":p}},v=f,b=Object(h["a"])(v,l,r,!1,null,"190bcef2",null),g=b.exports,L={name:"App",components:{"v-home":g}},_=L,y=Object(h["a"])(_,i,o,!1,null,null,null),w=y.exports,x=n("5a4b"),k=n("2ca7"),S=n.n(k),R=(n("46c6"),n("1bee")),$="",A={BASE_URL:$},C=(n("e8b2"),n("0287")),E=n.n(C),O=n("ffb9"),I=n.n(O),T=(n("0f51"),n("2676"),n("1446"),n("2389")),N=n.n(T),B=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"screen"}},[n("el-container",[n("el-header",[n("div",[n("el-radio",{attrs:{label:1,border:""},model:{value:t.activeScreen,callback:function(e){t.activeScreen=e},expression:"activeScreen"}},[t._v("主光幕")]),n("el-radio",{attrs:{label:2,border:""},model:{value:t.activeScreen,callback:function(e){t.activeScreen=e},expression:"activeScreen"}},[t._v("备用光幕")])],1)]),n("el-main",[n("v-position",{attrs:{loadLine:t.loadLine}}),n("table",{staticClass:"table-bordered table-hover table-condensed"},[n("thead",t._l(40,(function(e){return n("th",{key:e},[n("span",e<10?[t._v(t._s("0"+e))]:[t._v(t._s(e))])])})),0),n("tbody",{attrs:{id:"screenTable"}},[n("tr",[n("td")])])]),n("v-important-data",{attrs:{loadLine:t.loadLine}})],1)],1)],1)},D=[],P=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},G=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"position"}},[n("h6",[t._v(" 定位结果车速: "),n("span",{attrs:{id:"trainV"}})]),n("table",{staticClass:"table table-condensed"},[n("thead",[n("tr",[n("td",[t._v("车厢号")]),n("td",[t._v("头坐标")]),n("td",[t._v("尾坐标")]),n("td",[t._v("头-尾")])])]),n("tbody",{attrs:{id:"trainPosition"}},[n("tr",[n("td",[t._v("asdas")]),n("td",[t._v("asdas")]),n("td",[t._v("asdas")]),n("td",[t._v("asdas")])])])])])}],V=(n("4045"),{name:"Position",data:function(){return{timer:null}},methods:{refreshPosition:function(){var t=this.GLOBAL.BASE_URL+"/getAllPosition?loadLine="+this.loadLine;this.$http.get(t).then((function(t){var e=t.body,n=document.querySelector("#trainPosition");if(e&&e.length>0){for(var a="",i=0;i<e.length;i++){var o=e[i].carHead-e[i].carTail;a+="<tr>",a+="<td>"+e[i].index+"</td>",a+="<td>"+e[i].carHead+"</td>",a+="<td>"+e[i].carTail+"</td>",a+="<td>"+o+"</td>",a+="</tr>"}n&&(document.querySelector("#trainPosition").innerHTML=a)}else n&&(n.innerHTML="")}),(function(t){console.log(t);var e=document.querySelector("#trainPosition");e&&(e.innerHTML="")}));var e=this.GLOBAL.BASE_URL+"/getTrainV?loadLine="+this.loadLine;this.$http.get(e).then((function(t){var e=t.bodyText,n=e.substring(0,e.indexOf(".")+3),a=document.querySelector("#trainV");a&&(a.innerHTML=n)}),(function(t){console.log(t)}))}},mounted:function(){this.refreshPosition(),this.timer=setInterval(this.refreshPosition,200)},destroyed:function(){this.timer&&clearInterval(this.timer)},props:["loadLine"]}),j=V,q=Object(h["a"])(j,P,G,!1,null,null,null),M=q.exports,U=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"ImporaImportantData"}},[n("div",{staticClass:"tag-group"},[n("span",{staticClass:"tag-group-title"},[t._v("定量仓重量")]),n("el-tag",{attrs:{size:"small",type:"warning"}},[t._v(t._s(t.weight))])],1),n("div",{staticClass:"tag-group"},[n("span",{staticClass:"tag-group-title"},[t._v("激光测距仪")]),t._v(" "),n("el-tag",{attrs:{size:"small",type:"danger"}},[t._v(t._s(t.length1)+" -- "+t._s(t.length2))])],1),n("div",{staticClass:"tag-group"},[n("span",{staticClass:"tag-group-title"},[t._v("手自动状态")]),t._v(" "),n("el-tag",{attrs:{size:"small",type:"danger"}},[t._v(t._s(t.softAuto))])],1),n("el-row",[n("el-button",{attrs:{type:"primary"}},[t._v("切换自动")]),n("el-button",{attrs:{type:"danger"}},[t._v("切换手动")])],1)],1)},z=[],H={name:"ImportantData",data:function(){return{timer:null,weight:null,softAuto:null,length1:null,length2:null}},methods:{refreshImporaImportantData:function(){var t=this,e=this.GLOBAL.BASE_URL+"/refreshImportantData?loadLine="+this.loadLine;this.$http.get(e).then((function(e){console.log(e);var n=e.body;t.weight=n.weight,t.softAuto=n.softAuto,t.length1=n.length1,t.length2=n.length2}),(function(t){console.log(t)}))}},mounted:function(){this.refreshImporaImportantData(),this.timer=setInterval(this.refreshImporaImportantData,200)},destroyed:function(){this.timer&&clearInterval(this.timer)},props:["loadLine"]},F=H,J=Object(h["a"])(F,U,z,!1,null,"651d0835",null),W=J.exports,X={name:"Screen",data:function(){return{timer:null,loadLine:"",activeScreen:1}},methods:{refreshScreen:function(){var t=this.GLOBAL.BASE_URL+"/screenData?loadLine="+this.loadLine+"&activeScreen="+this.activeScreen;this.$http.post(t).then((function(t){for(var e=t.body,n="",a=0;a<e.length;a+=40){n+="<tr>";for(var i=0;i<40;i++)1==e[a+i]?n+='<td style="background:#000; color:#FFF">'+e[a+i]+"</td>":n+="<td>"+e[a+i]+"</td>";n+="</tr>"}document.querySelector("#screenTable").innerHTML=n}),(function(t){console.log(t)}))}},mounted:function(){this.loadLine=this.$route.params.loadLine,this.refreshScreen(),this.timer=setInterval(this.refreshScreen,200)},components:{"v-position":M,"v-important-data":W},destroyed:function(){this.timer&&clearInterval(this.timer)},watch:{$route:function(){this.$route.params.loadLine&&(this.loadLine=this.$route.params.loadLine)}}},K=X,Q=Object(h["a"])(K,B,D,!1,null,"7b1235a0",null),Y=Q.exports,Z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"myChart"}})},tt=[],et=(n("3a20"),n("252a"),{name:"RealTimeRadarData",data:function(){return{times:2e3,timer:null,loadLine:"400012"}},methods:{refreshRealTimeRadarData:function(){var t=this,e=this.GLOBAL.BASE_URL+"/realTimeRadarData?loadLine="+this.loadLine;this.$http.get(e).then((function(e){var n=e.body;console.log(n);var a=t.$echarts.init(document.getElementById("myChart")),i={title:{text:"西克测厚雷达实时数据"},tooltip:{},legend:{data:["值"]},xAxis:{data:n.keys,splitLine:{show:!1},splitArea:{show:!1}},yAxis:{splitArea:{show:!1}},series:[{name:"点号",type:"bar",data:n.value,large:!0}]};a.setOption(i),console.log("图形初始化成功")}),(function(t){console.log(t)}))}},mounted:function(){this.refreshRealTimeRadarData(),setInterval(this.refreshRealTimeRadarData,200)},destroyed:function(){this.timer&&clearInterval(this.timer)},watch:{$route:function(){this.$route.params.loadLine&&(this.loadLine=this.$route.params.loadLine)}}}),nt=et,at=(n("d56a"),Object(h["a"])(nt,Z,tt,!1,null,null,null)),it=at.exports,ot=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-row",{staticStyle:{height:"100px"}}),n("el-row",{attrs:{type:"flex",id:"singlePointWrite"}},[n("el-col",{attrs:{span:8}}),n("el-col",{attrs:{span:8}},[n("el-form",{ref:"form",attrs:{"label-width":"180px"}},[n("el-form-item",{attrs:{label:"测试方式"}},[n("el-radio",{attrs:{label:1,border:""},model:{value:t.sendMethod,callback:function(e){t.sendMethod=e},expression:"sendMethod"}},[t._v("连续单个发送")]),n("el-radio",{attrs:{label:2,border:""},model:{value:t.sendMethod,callback:function(e){t.sendMethod=e},expression:"sendMethod"}},[t._v("list集合发送")])],1),n("el-form-item",{attrs:{label:"请输入点号"}},[n("el-input",{attrs:{placeholder:"请输入点号",clearable:""},model:{value:t.pointId,callback:function(e){t.pointId=e},expression:"pointId"}})],1),n("el-form-item",{attrs:{label:"请输入结束点号"}},[n("el-input",{attrs:{placeholder:"请输入结束点号",clearable:""},model:{value:t.pointIdEnd,callback:function(e){t.pointIdEnd=e},expression:"pointIdEnd"}})],1),n("el-form-item",{attrs:{label:"请输入点值"}},[n("el-input",{attrs:{placeholder:"请输入点值",clearable:""},model:{value:t.rawValue,callback:function(e){t.rawValue=e},expression:"rawValue"}})],1),n("el-form-item",{attrs:{label:"请输入刷新频率"}},[n("el-input",{attrs:{placeholder:"请输入刷新频率",clearable:""},model:{value:t.times,callback:function(e){t.times=e},expression:"times"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.begin()}}},[t._v("开始")]),n("el-button",{attrs:{type:"danger"},on:{click:function(e){return t.stop()}}},[t._v("停止")])],1)],1)],1),n("el-col",{attrs:{span:8}})],1)],1)},lt=[],rt={name:"SinglePointWrite",data:function(){return{pointId:"",rawValue:0,pointIdEnd:"",times:500,timer:null,sendMethod:1}},methods:{begin:function(){this.timer=setInterval(this.writePoint,this.times)},stop:function(){this.timer&&(clearInterval(this.timer),this.timer=null)},writePoint:function(){var t=this,e="";e=1==this.sendMethod?this.GLOBAL.BASE_URL+"/writePoints":this.GLOBAL.BASE_URL+"/writePointList",console.log(this.$data),this.$http.post(e,this.$data,{emulateJSON:!0}).then((function(e){console.log(e),t.rawValue=1*t.rawValue+1,console.log(t.rawValue)}),(function(t){console.log(t)}))}}},st=rt,ct=Object(h["a"])(st,ot,lt,!1,null,null,null),ut=ct.exports,dt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"tasks"}},[n("h6",[t._v("查看正在装车的列表")]),n("el-dialog",{attrs:{title:"车厢列表",visible:t.dialogVisible,width:"40%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("v-carrige-list",{ref:"carriageListPage",attrs:{loadLine:t.queryLoadLine,taskNum:t.queryTaskNum}})],1),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[n("el-table-column",{attrs:{fixed:"",prop:"trainNum",label:"车次号",width:"150"}}),n("el-table-column",{attrs:{prop:"loadLineName",label:"装车线",width:"120"}}),n("el-table-column",{attrs:{prop:"trainNumTotal",label:"总节数",width:"120"}}),n("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{slot:"reference",type:"text",size:"small"},on:{click:function(n){return t.queryCarriageList(e.row)}},slot:"reference"},[t._v("查看车厢列表")])]}}])})],1)],1)},ht=[],mt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"carriages"}},[n("el-table",{attrs:{data:t.carriageData,border:"",height:"400px",width:"450px"}},[n("el-table-column",{attrs:{fixed:"",prop:"orderNum",label:"序号",width:"150"}}),n("el-table-column",{attrs:{fixed:"",prop:"trainNum",label:"车厢号码",width:"250"}}),n("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return t.getRadarData(e.row)}}},[t._v("查看偏载图形")])]}}])})],1),n("el-dialog",{attrs:{width:"60%",title:"雷达图",visible:t.innerVisible,"append-to-body":""},on:{"update:visible":function(e){t.innerVisible=e}}},[n("v-radar",{ref:"radarGraph",attrs:{loadLine:t.loadLine,taskNum:t.taskNum,trainNum:t.queryTrainNum}})],1)],1)},pt=[],ft=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},vt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"radarGraph"}},[n("span",{attrs:{id:"chartTip"}}),n("div",{attrs:{id:"myChart"}})])}],bt={name:"RadarGraph",data:function(){return{myChart:null}},methods:{getRadarGraph:function(){var t=this,e=this.GLOBAL.BASE_URL+"/getRadarDataGraph?loadLine="+this.loadLine+"&taskNum="+this.taskNum+"&trainNum="+this.trainNum;this.$http.post(e).then((function(e){var n=e.body;if(console.log(n),!n||0==n.length)return document.getElementById("chartTip").innerHTML="暂无数据",void(t.myChart&&(t.myChart.clear(),t.myChart.dispose(),t.myChart=null));console.log(n);for(var a=new Array,i=new Array,o=0;o<n.length;o++)a.push(n[o].position),i.push(n[o].unbalanceValue);document.getElementById("chartTip").innerHTML="",t.myChart=t.$echarts.init(document.getElementById("myChart"));var l={title:{text:"车厢二维雷达图"},tooltip:{},xAxis:{data:a,boundaryGap:!1},yAxis:{type:"value"},series:[{name:"点号",type:"line",data:i,areaStyle:{}}]};t.myChart.setOption(l),console.log("图形初始化成功")}),(function(t){console.log(t)}))}},props:["loadLine","taskNum","trainNum"],mounted:function(){this.getRadarGraph()},watch:{trainNum:function(){this.trainNum&&this.getRadarGraph()}}},gt=bt,Lt=Object(h["a"])(gt,ft,vt,!1,null,null,null),_t=Lt.exports,yt={name:"CarriageList",data:function(){return{carriageData:[],innerVisible:!1,queryTrainNum:""}},methods:{getCarriageList:function(){var t=this,e=this.GLOBAL.BASE_URL+"/queryCarriage?loadLine="+this.loadLine+"&taskNum="+this.taskNum;this.$http.post(e).then((function(e){var n=e.body;console.log(n),t.carriageData=n}),(function(t){console.log(t)}))},getRadarData:function(t){this.loadLine=t.loadLine,this.taskNum=t.taskNum;var e=t.trainNum;this.innerVisible=!0,this.queryTrainNum=e}},mounted:function(){this.getCarriageList()},destroyed:function(){},props:["loadLine","taskNum"],components:{"v-radar":_t},watch:{taskNum:function(){this.taskNum&&this.getCarriageList()}}},wt=yt,xt=Object(h["a"])(wt,mt,pt,!1,null,null,null),kt=xt.exports,St={methods:{queryCarriageList:function(t){this.dialogVisible=!0,this.queryLoadLine=t.loadLine,this.queryTaskNum=t.taskNum},showTaskLoadNow:function(){var t=this,e=this.GLOBAL.BASE_URL+"/taskList";this.$http.get(e).then((function(e){var n=e.body;t.tableData=n}),(function(t){console.log(t)}))}},data:function(){return{tableData:[],dialogVisible:!1,queryLoadLine:"",queryTaskNum:""}},components:{"v-carrige-list":kt},mounted:function(){this.showTaskLoadNow()}},Rt=St,$t=Object(h["a"])(Rt,dt,ht,!1,null,null,null),At=$t.exports,Ct=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"tasksyn"}},[t._v(t._s(t.msg))])},Et=[],Ot={name:"Home",data:function(){return{msg:""}},mounted:function(){this.taskSyn()},methods:{taskSyn:function(){var t=this;this.msg="正在同步 请等待。。。。。";var e=this.GLOBAL.BASE_URL+"/syncTask";this.$http.get(e).then((function(e){var n=e.body;t.msg=n.msg}),(function(t){console.log(t)}))}}},It=Ot,Tt=Object(h["a"])(It,Ct,Et,!1,null,"2cbaad2f",null),Nt=Tt.exports,Bt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"Coalfeeder"}},[n("el-row",[n("el-radio",{attrs:{label:400012,border:""},model:{value:t.loadLine,callback:function(e){t.loadLine=e},expression:"loadLine"}},[t._v("1号站")]),n("el-radio",{attrs:{label:400013,border:""},model:{value:t.loadLine,callback:function(e){t.loadLine=e},expression:"loadLine"}},[t._v("2号站")])],1),n("el-row",[n("el-switch",{attrs:{"active-text":"控制给煤机","inactive-text":"不控制给煤机","active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.allowControl,callback:function(e){t.allowControl=e},expression:"allowControl"}})],1),n("el-divider"),n("el-row",t._l(t.coalfeeders,(function(e){return n("v-coalfeeder-single",{key:e.coalFeederCode,attrs:{coalfeeder:e,loadLine:t.loadLine,allowControl:t.allowControl}})})),1)],1)},Dt=[],Pt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-col",{attrs:{span:3}},[n("el-card",{attrs:{"body-style":{padding:"0px"}}},[n("div",{staticStyle:{padding:"14px"}},[n("div",[n("div",[n("span",[t._v("所属煤仓:")]),t._v(" "+t._s(t.coalfeeder.coalBunker)+" ")]),n("div",[n("span",[t._v("煤机编号:")]),t._v(" "+t._s(t.coalfeeder.coalFeederCode)+" ")]),n("div",[n("span",[t._v("煤机状态:")]),t.coalfeeder.runStatus?n("span",{staticStyle:{color:"#67C23A"}},[t._v("运行")]):n("span",{staticStyle:{color:"#909399"}},[t._v("停止")])]),n("div",[n("span",[t._v("反馈频率:")]),t._v(" "+t._s(t.coalfeeder.outputRunHz)+" ")]),n("div",{attrs:{title:"滑动输入频率"}},[n("span",[t._v("频率控制:")]),n("i",{staticClass:"el-icon-bottom"})]),n("div",{staticClass:"block"},[n("el-slider",{attrs:{title:"滑动输入频率",step:1,max:50,size:"mini","show-stops":""},on:{change:function(e){return t.updateFeederRunHz()}},model:{value:t.coalfeeder.inputRunHz,callback:function(e){t.$set(t.coalfeeder,"inputRunHz",e)},expression:"coalfeeder.inputRunHz"}})],1)]),n("div",{staticClass:"bottom clearfix"},[n("el-button",{staticClass:"button",attrs:{type:"success",size:"mini"},on:{click:function(e){return t.start()}}},[t._v("启动")]),n("el-button",{staticClass:"button",attrs:{type:"warning",size:"mini"},on:{click:function(e){return t.stop()}}},[t._v("停止")]),n("el-button",{staticClass:"button",attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.reset()}}},[t._v("复位")])],1)])])],1)},Gt=[],Vt=(n("f4a0"),{data:function(){return{value:0}},methods:{start:function(){if(this.checkAllowControl()){console.log("this.allowControl"+this.allowControl);var t=this.GLOBAL.BASE_URL+"/startCoalFeeder";console.log(this.$data),this.$http.post(t,this.coalfeeder,{emulateJSON:!0}).then((function(t){console.log(t)}),(function(t){console.log(t)}))}},stop:function(){if(this.checkAllowControl()){var t=this.GLOBAL.BASE_URL+"/stopCoalFeeder";console.log(this.$data),this.$http.post(t,this.coalfeeder,{emulateJSON:!0}).then((function(t){console.log(t)}),(function(t){console.log(t)}))}},reset:function(){if(this.checkAllowControl()){var t=this.GLOBAL.BASE_URL+"/resetCoalFeeder";console.log(this.$data),this.$http.post(t,this.coalfeeder,{emulateJSON:!0}).then((function(t){console.log(t)}),(function(t){console.log(t)}))}},updateFeederRunHz:function(){var t=this;if(this.checkAllowControl()){var e=this.GLOBAL.BASE_URL+"/updateFeederRunHz";console.log(this.$data),this.$http.post(e,this.coalfeeder,{emulateJSON:!0}).then((function(e){console.log(e),t.rawValue=1*t.rawValue+1,console.log(t.rawValue)}),(function(t){console.log(t)}))}},checkAllowControl:function(){return!!this.allowControl||(this.$message({message:"不允许控制给煤机",type:"warning"}),!1)}},props:{coalfeeder:{type:Object},loadLine:{type:Number},allowControl:{type:Boolean}},mounted:function(){}}),jt=Vt,qt=Object(h["a"])(jt,Pt,Gt,!1,null,"403c796a",null),Mt=qt.exports,Ut={name:"Coalfeeder",data:function(){return{allowControl:!1,loadLine:400012,coalfeeders:[],timer:null}},methods:{getCoalFeeders:function(){var t=this,e=this.GLOBAL.BASE_URL+"/getCoalFeeders?loadLine="+this.loadLine;this.$http.get(e).then((function(e){var n=e.body;t.coalfeeders=n}),(function(t){console.log(t)}))}},components:{"v-coalfeeder-single":Mt},mounted:function(){this.getCoalFeeders(),this.timer=setInterval(this.getCoalFeeders,2e3)},destroyed:function(){this.timer&&clearInterval(this.timer)}},zt=Ut,Ht=Object(h["a"])(zt,Bt,Dt,!1,null,"98ada7e4",null),Ft=Ht.exports,Jt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"plcData"}},[n("div",[n("el-row",[n("el-col",{attrs:{span:2}},[n("el-tag",[t._v(t._s("400012"==t.loadLine?"一号站":"二号站"))])],1),n("el-col",{attrs:{span:4}},[n("span",[t._v("刷新频率(ms): ")]),n("el-input",{staticStyle:{width:"100px"},attrs:{placeholder:"请输入刷新频率"},model:{value:t.inputTimer,callback:function(e){t.inputTimer=e},expression:"inputTimer"}})],1),n("el-col",{attrs:{span:2}},[n("el-button",{on:{click:function(e){return t.beginRefreshPoint()}}},[t._v("启动检测")])],1),n("el-col",{attrs:{span:2}},[n("el-button",{attrs:{type:"danger"},on:{click:function(e){return t.stopRefreshPoint()}}},[t._v("停止观察")])],1),n("el-col",{attrs:{span:2}},[n("el-tag",{attrs:{id:"runStatus",type:"stop"==t.runStatus?"danger":"success"}},[t._v(t._s(t.runStatus))])],1)],1),n("el-divider"),n("el-checkbox-group",{model:{value:t.checkDevices,callback:function(e){t.checkDevices=e},expression:"checkDevices"}},[t._l(t.devices,(function(e){return n("el-checkbox",{key:e.deviceId,attrs:{label:e.deviceId,border:""},model:{value:e.deviceId,callback:function(n){t.$set(e,"deviceId",n)},expression:"device.deviceId"}},[t._v(t._s(e.deviceName))])})),n("el-button",{staticStyle:{float:"right"},attrs:{type:"danger",icon:"el-icon-refresh-right",circle:""},on:{click:function(e){return t.clearCheck()}}},[t._v("清空")])],2),n("el-divider"),n("div",[n("vxe-table",{attrs:{data:t.editTableData},on:{"cell-dblclick":t.cellDBLClickEvent}},[n("vxe-table-column",{attrs:{type:"seq",title:"序号",width:"80"}}),n("vxe-table-column",{attrs:{field:"pointId",title:"点id"}}),n("vxe-table-column",{attrs:{field:"pointName",title:"点描述"}}),n("vxe-table-column",{attrs:{field:"pointValue",title:"点值"}}),n("vxe-table-column",{attrs:{title:"操作",width:"100","show-overflow":""},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[n("el-button",{attrs:{type:"primary",icon:"el-icon-edit",circle:""},on:{click:function(e){return t.editEvent(a)}}})]}}])})],1),n("vxe-modal",{attrs:{title:"修改点值",width:"800",resize:"","destroy-on-close":""},model:{value:t.showEdit,callback:function(e){t.showEdit=e},expression:"showEdit"}},[n("vxe-form",{attrs:{data:t.formData,items:t.formItems,"title-align":"right","title-width":"100",loading:t.submitLoading},on:{submit:t.submitEvent}})],1)],1),n("el-divider"),n("div",[n("vxe-table",{attrs:{data:t.onlyReadTableData}},[n("vxe-table-column",{attrs:{type:"seq",title:"序号",width:"80"}}),n("vxe-table-column",{attrs:{field:"pointId",title:"点id"}}),n("vxe-table-column",{attrs:{field:"pointName",title:"点描述"}}),n("vxe-table-column",{attrs:{field:"pointValue",title:"点值"}})],1)],1)],1)])},Wt=[],Xt={data:function(){return{timer:null,name:"PlcData",loadLine:null,devices:[],inputTimer:500,checkDevices:[],editTableData:[],onlyReadTableData:[],runStatus:"stop",selectRow:null,showEdit:!1,submitLoading:!1,formData:{loadLine:null,pointId:null,pointName:null,pointValue:null},formItems:[{title:"输入点值提交发送",span:24,titleAlign:"left",titleWidth:200,titlePrefix:{icon:"fa fa-address-card-o"}},{field:"loadLine",title:"装车线",span:24,itemRender:{name:"$input",props:{placeholder:"装车线",disabled:!0}}},{field:"pointId",title:"点号",span:24,itemRender:{name:"$input",props:{placeholder:"请输入点Id",disabled:!0}}},{field:"pointName",title:"点描述",span:24,itemRender:{name:"$input",props:{placeholder:"请输入点描述",disabled:!0}}},{field:"pointValue",title:"值",span:24,itemRender:{name:"$input",props:{placeholder:"请输入新值"}}},{align:"center",span:24,titleAlign:"left",itemRender:{name:"$buttons",children:[{props:{type:"submit",content:"提交",status:"primary"}}]}}]}},methods:{submitEvent:function(){var t=this;this.submitLoading=!0;var e=e=this.GLOBAL.BASE_URL+"/writeSinglePoint";this.$http.post(e,this.selectRow).then((function(e){t.showEdit=!1,t.submitLoading=!1,t.$XModal.message({message:e.body.msg,status:"success"})}),(function(e){console.log(e),t.$XModal.message({error:"fail"})}))},cellDBLClickEvent:function(t){var e=t.row;this.editEvent(e)},editEvent:function(t){this.formData={loadLine:t.loadLine,pointId:t.pointId,pointName:t.pointName,pointValue:t.pointValue},this.selectRow=t,this.showEdit=!0},refreshTab:function(){var t=this,e=this.GLOBAL.BASE_URL+"/devices";this.$http.post(e).then((function(e){var n=e.body;t.devices=n}),(function(t){console.log(t)}))},checkAllowRefresh:function(){return 0!=this.checkDevices.length||(this.stopRefreshPoint(),this.$message({message:"没有选择监测设备",type:"warning"}),!1)},refreshPoints:function(){var t=this;if(this.checkAllowRefresh()){var e=this.GLOBAL.BASE_URL+"/points?loadLine="+this.loadLine;this.$http.post(e,JSON.stringify(this.checkDevices)).then((function(e){var n=e.body;t.onlyReadTableData=n.or,t.editTableData=n.wr}),(function(t){console.log(t)}))}},beginRefreshPoint:function(){this.timer||this.checkAllowRefresh()&&(this.refreshPoints(),this.timer=setInterval(this.refreshPoints,this.inputTimer),this.runStatus="running")},stopRefreshPoint:function(){this.timer&&(clearInterval(this.timer),this.timer=null,this.runStatus="stop")},clearCheck:function(){this.checkDevices=[]}},mounted:function(){this.loadLine=this.$route.query.loadLine,this.refreshTab()},destroyed:function(){this.stopRefreshPoint()},watch:{$route:function(){this.$route.query.loadLine&&(this.loadLine=this.$route.params.loadLine)},checkDevices:function(t){0==t.length&&(null!=this.timer&&this.$message("勾选设备被清空，下次需要重新点击启动"),this.stopRefreshPoint())}}},Kt=Xt,Qt=Object(h["a"])(Kt,Jt,Wt,!1,null,"4e50cdd4",null),Yt=Qt.exports;a["default"].use(E.a),E.a.use(I.a),a["default"].prototype.GLOBAL=A,a["default"].prototype.$echarts=N.a,a["default"].use(x["a"]),a["default"].use(S.a),a["default"].use(R["a"]),a["default"].use(N.a);var Zt=[{path:"/screen/:loadLine",component:Y},{path:"/singlePointWrite/:loadLine",component:ut},{path:"/realTimeRadarData/:loadLine",component:it},{path:"/taskNowLoad",component:At},{path:"/taskSyn",component:Nt},{path:"/coalTool",component:Ft},{path:"/PlcData",component:Yt}],te=new R["a"]({routes:Zt});a["default"].config.productionTip=!1,new a["default"]({render:function(t){return t(w)},router:te}).$mount("#app")},d56a:function(t,e,n){"use strict";var a=n("29c6"),i=n.n(a);i.a}});
//# sourceMappingURL=app.76363435.js.map